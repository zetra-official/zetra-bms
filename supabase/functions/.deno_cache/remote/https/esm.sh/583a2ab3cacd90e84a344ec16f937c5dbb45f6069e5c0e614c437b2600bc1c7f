/* esm.sh - @supabase/functions-js@2.97.0 */
import{__awaiter as j}from"/tslib@2.8.1/denonext/tslib.mjs";var T=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var c=class extends Error{constructor(t,u="FunctionsError",n){super(t),this.name=u,this.context=n}},x=class extends c{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},f=class extends c{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},p=class extends c{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},E;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(E||(E={}));var A=class{constructor(t,{headers:u={},customFetch:n,region:h=E.Any}={}){this.url=t,this.headers=u,this.region=h,this.fetch=T(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return j(this,arguments,void 0,function*(u,n={}){var h;let b,d;try{let{headers:o,method:F,body:r,signal:g,timeout:v}=n,y={},{region:i}=n;i||(i=this.region);let C=new URL(`${this.url}/${u}`);i&&i!=="any"&&(y["x-region"]=i,C.searchParams.set("forceFunctionRegion",i));let a;r&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",a=r):typeof r=="string"?(y["Content-Type"]="text/plain",a=r):typeof FormData<"u"&&r instanceof FormData?a=r:(y["Content-Type"]="application/json",a=JSON.stringify(r)):r&&typeof r!="string"&&!(typeof Blob<"u"&&r instanceof Blob)&&!(r instanceof ArrayBuffer)&&!(typeof FormData<"u"&&r instanceof FormData)?a=JSON.stringify(r):a=r;let w=g;v&&(d=new AbortController,b=setTimeout(()=>d.abort(),v),g?(w=d.signal,g.addEventListener("abort",()=>d.abort())):w=d.signal);let s=yield this.fetch(C.toString(),{method:F||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),o),body:a,signal:w}).catch(O=>{throw new x(O)}),S=s.headers.get("x-relay-error");if(S&&S==="true")throw new f(s);if(!s.ok)throw new p(s);let m=((h=s.headers.get("Content-Type"))!==null&&h!==void 0?h:"text/plain").split(";")[0].trim(),l;return m==="application/json"?l=yield s.json():m==="application/octet-stream"||m==="application/pdf"?l=yield s.blob():m==="text/event-stream"?l=s:m==="multipart/form-data"?l=yield s.formData():l=yield s.text(),{data:l,error:null,response:s}}catch(o){return{data:null,error:o,response:o instanceof p||o instanceof f?o.context:void 0}}finally{b&&clearTimeout(b)}})}};export{E as FunctionRegion,A as FunctionsClient,c as FunctionsError,x as FunctionsFetchError,p as FunctionsHttpError,f as FunctionsRelayError};
//# sourceMappingURL=functions-js.mjs.map
// denoCacheMetadata={"headers":{"cf-ray":"9d085786d9ab1636-JNB","server":"cloudflare","vary":"Accept-Encoding","cache-control":"public, max-age=31536000, immutable","accept-ranges":"bytes","last-modified":"Wed, 18 Feb 2026 14:09:51 GMT","date":"Thu, 19 Feb 2026 19:58:57 GMT","access-control-allow-origin":"*","age":"107344","content-type":"application/javascript; charset=utf-8","cf-cache-status":"HIT"},"url":"https://esm.sh/@supabase/functions-js@2.97.0/denonext/functions-js.mjs","time":1771531138}